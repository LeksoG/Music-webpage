<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rythym.com</title>
    <style>
      /* Global Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background: linear-gradient(135deg, #1c1f26, #2a2f38);
        color: #fff;
        height: 100vh;
        overflow: hidden; /* Prevent horizontal scroll */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
      }

      /* Search Bar */
      .search-container {
        margin: 20px 0;
      }

      .search-bar {
        width: 300px;
        height: 50px;
        border: none;
        border-radius: 25px;
        padding: 0 20px;
        outline: 2px solid white;
        background-color: #2d3138;
        color: white;
        font-size: 16px;
        text-align: center;
        transition: all 0.4s ease;
      }

      .search-bar:focus {
        width: 500px;
        box-shadow: 0 0 20px rgba(255, 182, 193, 0.8);
        background-color: #3a4049;
        outline: none;
      }

      /* Tab Bar */
      .tab-bar {
        display: flex;
        justify-content: center;
        gap: 25px;
        background-color: #2d3138;
        padding: 10px 0;
        width: 100%;
        max-width: 500px;
        border-radius: 25px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      }

      .tab-bar a {
        text-decoration: none;
        color: ghostwhite;
        font-size: 16px;
        padding: 10px 15px;
        border-radius: 15px;
        background-color: transparent;
        transition: background-color 0.3s, transform 0.3s;
      }

      .tab-bar a:hover {
        background-color: rgba(255, 0, 0, 0.7);
        transform: scale(1.1);
      }

      .tab-bar a.active {
        background-color: #ff0000;
        color: white;
        font-weight: bold;
      }

      /* Music Controls */
      .music-controls {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 25px;
        padding: 15px;
        background-color: #2d3138;
        border-radius: 50px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        margin-bottom: 10px;
      }

      .control-button {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        border: 2px solid rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #444b54, #2d3138);
        color: white;
        font-size: 20px;
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s, box-shadow 0.3s;
      }

      .control-button:hover {
        transform: scale(1.1);
        background: linear-gradient(135deg, #ff0000, #aa0000);
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.8);
      }

      .play-pause {
        width: 70px;
        height: 70px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.5);
      }

      /* Album Container */
      .album-container {
        width: 350px;
        height: 350px;
        background: rgba(45, 49, 56, 0.8);
        border-radius: 20px;
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        filter: blur(30px);
        transition: opacity 0.8s ease, filter 0.8s ease-in-out;
      }

      .album-container.active {
        opacity: 1;
        filter: blur(0);
      }

      .album-container.hidden {
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
      }

      .album-image {
        width: 100%;
        height: 100%;
        border-radius: 20px;
        object-fit: cover;
        object-position: center;
      }

      /* Track Name Styling */
      .track-name {
        font-size: 22px;
        font-weight: bold;
        color: white;
        text-align: center;
        margin-top: 0px;
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
        letter-spacing: 1px;
        font-family: "Arial", sans-serif;
        text-transform: uppercase;
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
      }

      /* Slide animations */
      @keyframes slideInFromLeft {
        from {
          transform: translateX(-100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideInFromRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutToLeft {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(-100%);
          opacity: 0;
        }
      }

      @keyframes slideOutToRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      .slide-in-left {
        animation: slideInFromLeft 0.5s ease forwards;
      }

      .slide-in-right {
        animation: slideInFromRight 0.5s ease forwards;
      }

      .slide-out-left {
        animation: slideOutToLeft 0.5s ease forwards;
      }

      .slide-out-right {
        animation: slideOutToRight 0.5s ease forwards;
      }
      .lyrics-modal {
         position: fixed;
         top: 20px;
         left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 20px;
        border-radius: 15px;
        max-width: 80%;
        max-height: 70%;
        overflow-y: auto;
        z-index: 1000;
     }
     .lyrics-modal button {
        background-color: #ff0000;
        color: white;
        padding: 10px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .lyrics-modal button:hover {
        background-color: #cc0000;
      }
    /* Share Button Styles */
      .share-button {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: rgba(0, 0, 0, 0.6);
        color: white;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
        transition: transform 0.2s ease;
      }

    .share-button:hover {
       transform: scale(1.1);
    }

    /* Share Link Container */
    .share-link-container {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(0, 0, 0, 0.9);
      color: white;
      padding: 20px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      z-index: 1000;
    }

    .hidden {
      display: none;
    }

    .share-link {
      width: 300px;
      padding: 10px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      background-color: white;
      color: black;
    }

    .copy-button {
      background-color: #ff0000;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .copy-button:hover {
      background-color: #cc0000;
    }

    .copy-success {
      margin-top: 10px;
      color: lime;
      font-size: 14px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .copy-success.show {
      opacity: 1;
    }
  </style>
  </head>
  <body>
    <!-- Search Bar -->
    <div class="search-container">
      <input
        type="text"
        class="search-bar"
        id="searchBar"
        placeholder="Search for music..."
      />
    </div>

    <!-- Tab Bar -->
    <div class="tab-bar" id="tabBar">
      <a href="#">Home</a>
      <a href="#">Artist</a>
      <a href="#">Genre</a>
      <a href="#">Albums</a>
      <a href="#">Playlists</a>
    </div>

    <!-- Album Pop-Up -->
    <div class="album-container" id="albumContainer">
      <img src="" alt="Album Art" id="albumArt" class="album-image" />
      <div class="share-button" id="shareButton">🔗</div>
    </div>
    <div class="track-name-container" id="trackNameContainer">
      <div id="lyricsButtonsContainer"></div>
      <div class="track-name" id="trackName" class="trackName"></div>
    </div>

    <!-- Music Controls -->
    <div class="music-controls">
      <div class="control-button" id="prevButton">⟨</div>
      <div class="control-button play-pause" id="playPauseButton">▶</div>
      <div class="control-button" id="nextButton">⟩</div>
    </div>

    <!-- Hidden Audio Player -->
    <audio id="audioPlayer" preload="auto">
      <source id="audioSource" src="tracks/track-1.mp3" type="audio/mp3" />
    </audio>
    <div class="share-link-container hidden" id="shareLinkContainer">
      <label for="shareLink">Share Link</label>
      <input type="text" class="share-link" id="shareLink" readonly placeholder="The link will appear here" />
      <!--<input type="text" class="share-link" id="shareLink" readonly />-->
      <button class="copy-button" id="copyButton">Copy</button>
      <div class="copy-success" id="copySuccess">Link copied!</div>
    </div>

    <script>
      let query = '';
      const playPauseButton = document.getElementById("playPauseButton");
      const prevButton = document.getElementById("prevButton");
      const nextButton = document.getElementById("nextButton");
      const albumContainer = document.getElementById("albumContainer");
      const albumArt = document.getElementById("albumArt");
      const audioPlayer = document.getElementById("audioPlayer");
      const audioSource = document.getElementById("audioSource");
      const trackNameDisplay = document.getElementById("trackName");
      const lyricsButtonsContainer = document.getElementById('lyricsButtonsContainer');
      const shareButton = document.getElementById("shareButton");
      const shareLinkContainer = document.getElementById("shareLinkContainer");
      const shareLink = document.getElementById("shareLink");
      const copyButton = document.getElementById("copyButton");
      const copySuccess = document.getElementById("copySuccess");
      const searchBar = document.getElementById("searchBar");
      const searchContainer = document.querySelector(".search-container");
      // Create a result container dynamically
      const resultContainer = document.createElement("div");
      resultContainer.style.display = "none";
      resultContainer.style.marginTop = "20px";
      resultContainer.style.padding = "20px";
      resultContainer.style.background = "rgba(45, 49, 56, 0.9)";
      resultContainer.style.borderRadius = "15px";
      resultContainer.style.boxShadow = "0 4px 10px rgba(0, 0, 0, 0.4)";
      searchContainer.appendChild(resultContainer);

      searchBar.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
           query = searchBar.value.trim().toLowerCase();
          if (!query) return;

  // Show spinning loader
      const spinner = document.createElement("div");
      spinner.style.border = "4px solid rgba(255, 255, 255, 0.2)";
      spinner.style.borderTop = "4px solid #ffffff";
      spinner.style.borderRadius = "50%";
      spinner.style.width = "30px";
      spinner.style.height = "30px";
      spinner.style.animation = "spin 1s linear infinite";
      spinner.style.margin = "0 auto";
      resultContainer.innerHTML = "";
      resultContainer.appendChild(spinner);
      resultContainer.style.display = "block";

      // Simulate a delay for 1 second
      setTimeout(() => {
        const track = playlist.find((t) => t.trackName.toLowerCase() === query);

        if (track) {
          // Display the track info
          resultContainer.innerHTML = `
           <img src="${track.albumArt}" style="width: 100px; height: 100px; border-radius: 10px; margin-bottom: 10px;" />
           <div style="font-size: 18px; font-weight: bold;">${track.trackName}</div>
          <a href="#" id="playTrackLink" style="color: #ff0000; text-decoration: none;">Play</a>
          `;
          // Add event listener to the "Play" link
          document.getElementById("playTrackLink").addEventListener("click", () => {
          // Update the track and play the music
          const trackIndex = playlist.indexOf(track);
          updateTrack(trackIndex);
          audioPlayer.play();
          playPauseButton.textContent = "⏸"; // Update play/pause button text
          });
        } else {
          // Display "not found" message
          resultContainer.innerHTML = `<div style="color: #ff0000;">Music not found.</div>`;
        }
      }, 1000);
    }
  });

  // Add spinner animation
  const style = document.createElement("style");
  style.textContent = `
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `;
  document.head.appendChild(style);

      const playlist = [
        {
          src: "tracks/track-1.mp3",
          albumArt: "images/album1.jpg",
          trackName: "Californication",
          lyrics: "Psychic spies from China try to steal your mind's elation\nAnd little girls from Sweden dream of silver screen quotation\nAnd if you want these kind of dreams it's Californication\nIt's the edge of the world and all of Western civilization\nThe sun may rise in the East, at least it settled in a final location\nIt's understood that Hollywood sells Californication\nPay your surgeon very well to break the spell of aging\nCelebrity skin, is this your chin, or is that war you're waging?\nFirst born unicorn\nHardcore soft porn\nDream of Californication\nDream of Californication\nDream of Californication\nDream of Californication\nMarry me, girl, be my fairy to the world, be my very own constellation\nA teenage bride with a baby inside getting high on information\nAnd buy me a star on the boulevard, it's Californication\nSpace may be the final frontier, but it's made in a Hollywood basement\nAnd Cobain, can you hear the spheres singing songs off Station To Station?\nAnd Alderaan's not far away, it's Californication\nBorn and raised by those who praise control of population\nWell, everybody's been there and I don't mean on vacation\nFirst born unicorn\nHardcore soft porn\nDream of Californication\nDream of Californication\nDream of Californication\nDream of Californication\nDestruction leads to a very rough road, but it also breeds creation\nAnd earthquakes are to a girl's guitar, they're just another good vibration\nAnd tidal waves couldn't save the world from Californication\nPay your surgeon very well to break the spell of aging\nSicker than the rest, there is no test, but this is what you're craving\nFirst born unicorn\nHardcore soft porn\nDream of Californication\nDream of Californication\nDream of Californication\nDream of Californication"
        },
        {
          src: "tracks/track-2.mp3",
          albumArt: "images/album2.jpg",
          trackName: "Lose Yourself",
        },
        {
          src: "tracks/track-3.mp3",
          albumArt: "images/album3.jpg",
          trackName: "The Real Slim Shady",
        },
        {
          src: "tracks/track-4.mp3",
          albumArt: "images/album4.jpg",
          trackName: "Yellow",
        },
        {
          src: "tracks/track-5.mp3",
          albumArt: "images/album5.png",
          trackName: "A Sky Full of Stars",
        },
        {
          src: "tracks/track-6.mp3",
          albumArt: "images/album6.jpg",
          trackName: "Still DR. DRE",
        },
        {
          src: "tracks/track-7.mp3",
          albumArt: "images/album7.png",
          trackName: "Rap God",
        },
        {
          src: "tracks/track-8.mp3",
          albumArt: "images/album8.jpg",
          trackName: "Radioactive",
        },
        {
          src: "tracks/track-9.mp3",
          albumArt: "images/album9.jpg",
          trackName: "Ransom",
        },
        {
          src: "tracks/track-10.mp3",
          albumArt: "images/album10.png",
          trackName: "Beat it",
        },
        {
          src: "tracks/track-11.mp3",
          albumArt: "images/album11.jpg",
          trackName: "Snow hey oh",
        },
        {
          src: "tracks/track-12.mp3",
          albumArt: "images/album12.jpg",
          trackName: "By the Way",
        },
        {
          src: "tracks/track-13.mp3",
          albumArt: "images/album13.jpg",
          trackName:"Shape of my Heart",
        },
      ];

      let currentTrackIndex = 0;

      function updateTrack(index) {
        audioSource.src = playlist[index].src;
        albumArt.src = playlist[index].albumArt;
        audioPlayer.load();
        trackNameDisplay.textContent = playlist[index].trackName;
        
        const lyricsButton = document.createElement('button');
        lyricsButton.textContent = "Lyrics";
        lyricsButton.classList.add('lyrics-button');
        lyricsButton.addEventListener('click', () => showLyrics(playlist[index].lyrics));

        lyricsButtonsContainer.innerHTML = '';
        lyricsButtonsContainer.appendChild(lyricsButton);
        albumContainer.classList.add("active");
      }

   function showLyrics(lyrics) {
  // Create the lyrics modal
  const lyricsModal = document.createElement('div');
  lyricsModal.classList.add('lyrics-modal');
  lyricsModal.innerHTML = `<pre>${lyrics}</pre><button onclick="closeLyrics()">Close</button>`;

  // Add the modal to the document body
  document.body.appendChild(lyricsModal);

  // Add the animation class for the wavy effect
  lyricsModal.classList.add('animate');

  // Remove the animation class after the animation ends
  lyricsModal.addEventListener('animationend', () => {
    lyricsModal.classList.remove('animate');
  });
}


      function closeLyrics() {
        const modal = document.querySelector('.lyrics-modal');
        if (modal) {
          modal.remove();
        }
      }


      function showAlbumOnLoad() {
        albumContainer.classList.add("active");
      }

      // Add Event Listeners
      playPauseButton.addEventListener("click", () => {
        if (audioPlayer.paused) {
          audioPlayer.play();
          playPauseButton.textContent = "⏸";
        } else {
          audioPlayer.pause();
          playPauseButton.textContent = "▶";
        }
      });

      window.onload = () => {
        updateTrack(currentTrackIndex);
        showAlbumOnLoad();
      };

     nextButton.addEventListener("click", () => {
      // Add slide-out animation to the current album
        albumContainer.classList.add("slide-out-left");

        setTimeout(() => {
           // Change to the next track after the slide-out animation
          currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
          updateTrack(currentTrackIndex);
          const track = playlist.find((t) => t.trackName.toLowerCase() === query);
          // Add the slide-in animation for the new track
          albumContainer.classList.remove("slide-out-left");
          albumContainer.classList.add("slide-in-right");
          albumArt.src = playlist[currentTrackIndex].albumArt;
          // Automatically play the track
          audioPlayer.play();
          playPauseButton.textContent = "⏸";
     }, 500); // Match the animation duration
   });

      prevButton.addEventListener("click", () => {
        // Add slide-out animation to the current album
        albumContainer.classList.remove("slide-in-left", "slide-in-right");
        albumContainer.classList.add("slide-out-right");

  setTimeout(() => {
    // Change to the previous track after the slide-out animation
    currentTrackIndex =
      (currentTrackIndex - 1 + playlist.length) % playlist.length;
    updateTrack(currentTrackIndex);

    // Automatically play the track
    audioPlayer.play();
    playPauseButton.textContent = "⏸";

    // Add slide-in animation for the previous album
    albumContainer.classList.remove("slide-out-right");
    albumContainer.classList.add("slide-in-left");
  }, 500); // Match the animation duration
});

      // Show album and track on page load
      window.onload = () => {
        updateTrack(currentTrackIndex);
        showAlbumOnLoad();
      };

    shareButton.addEventListener("click", () => {
      const trackName = playlist[currentTrackIndex].trackName.replace(/\s+/g, "-").toLowerCase();
      const link = `https://rythym.com/share/${trackName}`;
      shareLink.value = link;
      // Show the share link container
      shareLinkContainer.classList.remove("hidden");
    });
    copyButton.addEventListener("click", () => {
      // Copy the link to clipboard
      shareLink.select();
      shareLink.setSelectionRange(0, 99999); // For mobile devices
      document.execCommand("copy");

      // Show success message
      copySuccess.classList.add("show");

      // Hide the success message after 2 seconds
      setTimeout(() => {
        copySuccess.classList.remove("show");
      }, 2000);
    });

    // Optional: Close the share link container when clicking outside
    window.addEventListener("click", (e) => {
      if (!shareLinkContainer.contains(e.target) && e.target !== shareButton) {
        shareLinkContainer.classList.add("hidden");
      }
    });
  </script>
  </body>
</html>
